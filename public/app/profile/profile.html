<script type="text/javascript" src="../../js/dropdown.js"></script>

<!--Navbar-->
<nav>
  <div class="nav-wrapper #90caf9 blue lighten-3">
    <a ui-sref="home" class="brand-logo"><i class="material-icons left">cloud</i>TFG1718 ARP</a>
    <ul id="nav-mobile" class="right hide-on-med-and-down">
      <li>
        <a class="btn-margin" ng-if="!vm.auth.isAuthenticated()" ng-click="vm.auth.login()">
          Sign in
      </a>
      </li>
      <li>
        <a class="btn-margin dropdown-button" data-activates='dropdown' data-beloworigin="true" ng-if="vm.auth.isAuthenticated()">
          <img ng-src="{{ vm.profile.picture }}" class="circle avatar" alt="avatar">
      </a>
      </li>
    </ul>
  </div>
</nav>

  <!-- Dropdown Structure -->
  <ul id='dropdown' class='dropdown-content'>
      <li>
        <a ng-if="vm.auth.isAuthenticated()" ui-sref="profile">
          <i class="material-icons left">perm_identity</i>Profile
      </a>
      </li>
      <li>
        <a ng-if="vm.auth.isAuthenticated()" ng-click="vm.auth.logout()">
          <i class="material-icons left">exit_to_app</i>Log out
      </a>
      </li>
  </ul>

<!-- Profile -->
<div class="panel panel-default profile-area">
  <div class="panel-heading center-align">
    <h5><i class="material-icons">person</i> <span class="nickname">{{ vm.profile.nickname }}</span></h5>
    <img ng-src="{{ vm.profile.picture }}" class="circle" alt="avatar">
  </div>
  <div class="panel-body">
    <table rules="all" cellpadding="5" class="bordered">
      <tr class="#42a5f5 card-panel blue lighten-1 z-depth-0">
        <td class="center-align white-text centered">Group member</td>
        <td class="center-align white-text centered">{{ vm.profile.name }}</td>
      </tr>
      <tr class="#ffffff white z-index 0">
        <td>Name</td>
        <td>{{ vm.profile.given_name }}</td>
      </tr>
      <tr class="#ffffff white z-index 0">
        <td>Surname</td>
        <td>{{ vm.profile.family_name }}</td>
      </tr>
      <tr class="#ffffff white z-index 0">
        <td>Gender</td>
        <td class="gender">{{ vm.profile.gender }}</td>
      </tr>
  </div>
</div>
